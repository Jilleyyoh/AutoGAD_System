import{r as N,j as e,H as v,L as m}from"./app-DZrL6wO1.js";import{A as w}from"./app-layout-BVNqvqA6.js";import{c as t,t as r}from"./theme-classes-C1o5LvBg.js";import{C as k}from"./chevron-left-DLBjlG0X.js";import{E as d}from"./eye-DK73xOfc.js";import{C as p}from"./circle-check-BkHVpkJp.js";import{C as u}from"./clock-uWUX0Jnj.js";import{C}from"./circle-x-BTMzG0jO.js";import{C as _}from"./circle-alert-A2Xx533H.js";import"./app-CSLFruQT.js";import"./utils-CNSwpjVw.js";import"./button-Cr4sDpjN.js";import"./index-hSTZO9jP.js";import"./index-D4D1kMjY.js";import"./index-CYBwx7kR.js";import"./x-FRcdCJN5.js";import"./createLucideIcon-DkMGSA4v.js";import"./index-BNxELNJL.js";function q({evaluations:o,pagination:h}){const[s,b]=N.useState(""),n=o.filter(a=>a.project_code.toLowerCase().includes(s.toLowerCase())||a.title.toLowerCase().includes(s.toLowerCase())||a.evaluator_name.toLowerCase().includes(s.toLowerCase())),g=a=>a==null?e.jsx("span",{className:t("px-3 py-1 rounded-full text-sm font-medium",r.badge.gray),children:"No Score"}):a>=15?e.jsx("span",{className:t("px-3 py-1 rounded-full text-sm font-medium",r.badge.green),children:a.toFixed(2)}):a>=8?e.jsx("span",{className:t("px-3 py-1 rounded-full text-sm font-medium",r.badge.blue),children:a.toFixed(2)}):a>=4?e.jsx("span",{className:t("px-3 py-1 rounded-full text-sm font-medium",r.badge.yellow),children:a.toFixed(2)}):e.jsx("span",{className:t("px-3 py-1 rounded-full text-sm font-medium",r.badge.red),children:a.toFixed(2)}),f=a=>{const l={for_evaluation:{bg:"bg-blue-50 dark:bg-blue-900/10",border:"border-blue-200 dark:border-blue-800",textColor:"text-blue-700 dark:text-blue-300",icon:u},revision:{bg:"bg-yellow-50 dark:bg-yellow-900/10",border:"border-yellow-200 dark:border-yellow-800",textColor:"text-yellow-700 dark:text-yellow-300",icon:_},approved:{bg:"bg-green-50 dark:bg-green-900/10",border:"border-green-200 dark:border-green-800",textColor:"text-green-700 dark:text-green-300",icon:p},declined:{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-200 dark:border-red-800",textColor:"text-red-700 dark:text-red-300",icon:C},review:{bg:"bg-orange-50 dark:bg-orange-900/10",border:"border-orange-200 dark:border-orange-800",textColor:"text-orange-700 dark:text-orange-300",icon:d},for_certification:{bg:"bg-indigo-50 dark:bg-indigo-900/10",border:"border-indigo-200 dark:border-indigo-800",textColor:"text-indigo-700 dark:text-indigo-300",icon:u},certified:{bg:"bg-purple-50 dark:bg-purple-900/10",border:"border-purple-200 dark:border-purple-800",textColor:"text-purple-700 dark:text-purple-300",icon:p}}[a||""]||{bg:"bg-gray-50 dark:bg-gray-900/10",border:"border-gray-200 dark:border-gray-800",textColor:"text-gray-700 dark:text-gray-300",icon:d},j=l.icon,y={for_evaluation:"For Evaluation",revision:"Revision",approved:"Approved",declined:"Declined",review:"In Review",for_certification:"For Certification",certified:"Certified"};return e.jsxs("span",{className:t("inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium border",l.bg,l.border,l.textColor),children:[e.jsx(j,{className:"w-4 h-4"}),y[a||""]||a||"Unknown"]})},i=o.length,x=i>0?o.reduce((a,c)=>a+(c.total_score||0),0)/i:null;return e.jsxs(w,{children:[e.jsx(v,{title:"Manage Evaluations"}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:t("px-4 py-6 sm:px-0",r.text.primary),children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{href:"/admin2/dashboard",className:t("p-2 rounded-lg transition-colors","hover:bg-gray-100 dark:hover:bg-slate-700"),children:e.jsx(k,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:t("text-3xl font-bold",r.text.primary),children:"Manage Evaluations"}),e.jsx("p",{className:t("mt-1",r.text.secondary),children:"Review and consolidate completed project evaluations"})]})]})})}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"text",placeholder:"Search by project code or title...",value:s,onChange:a=>b(a.target.value),className:t("w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",r.input.base)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:t("rounded-lg shadow p-6",r.card.base),children:[e.jsx("p",{className:t("text-sm font-medium",r.text.tertiary),children:"Total Projects"}),e.jsx("p",{className:t("text-3xl font-bold mt-2",r.text.primary),children:h.total})]}),e.jsxs("div",{className:t("rounded-lg shadow p-6",r.card.base),children:[e.jsx("p",{className:t("text-sm font-medium",r.text.tertiary),children:"All Evaluations Complete"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:i})]}),e.jsxs("div",{className:t("rounded-lg shadow p-6",r.card.base),children:[e.jsx("p",{className:t("text-sm font-medium",r.text.tertiary),children:"Pending Consolidation"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:0})]}),e.jsxs("div",{className:t("rounded-lg shadow p-6",r.card.base),children:[e.jsx("p",{className:t("text-sm font-medium",r.text.tertiary),children:"Avg Score"}),e.jsx("p",{className:t("text-3xl font-bold mt-2",r.text.primary),children:x!==null?x.toFixed(2):"N/A"})]})]}),e.jsx("div",{className:t("rounded-lg shadow overflow-hidden",r.card.base),children:n.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:t("border-b",r.table.header),children:e.jsxs("tr",{children:[e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Project Code"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Title"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Organization"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Evaluator"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Score"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Status"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Admin2 Remarks"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Completed"}),e.jsx("th",{className:t("px-6 py-3 text-left text-xs font-medium uppercase",r.text.tertiary),children:"Action"})]})}),e.jsx("tbody",{className:t("divide-y",r.table.border),children:n.map(a=>e.jsxs("tr",{className:r.table.row,children:[e.jsx("td",{className:t("px-6 py-4 font-mono text-sm font-medium",r.text.primary),children:a.project_code}),e.jsx("td",{className:t("px-6 py-4 text-sm max-w-xs truncate",r.text.secondary),children:a.title}),e.jsx("td",{className:t("px-6 py-4 text-sm",r.text.secondary),children:a.organization}),e.jsx("td",{className:t("px-6 py-4 text-sm",r.text.secondary),children:a.evaluator_name}),e.jsx("td",{className:"px-6 py-4 text-sm",children:g(a.total_score)}),e.jsx("td",{className:"px-6 py-4 text-sm",children:f(a.status)}),e.jsx("td",{className:t("px-6 py-4 text-sm max-w-xs truncate",r.text.secondary),children:a.admin2_remarks?e.jsxs("span",{title:a.admin2_remarks,className:"cursor-help",children:[a.admin2_remarks.substring(0,50),a.admin2_remarks.length>50?"...":""]}):e.jsx("span",{className:r.text.tertiary,children:"—"})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:a.completion_date?a.completion_date:"—"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:a.status==="review"?e.jsxs("span",{className:t("inline-flex items-center gap-2 font-medium opacity-50 cursor-not-allowed",r.text.tertiary),children:[e.jsx(d,{className:"w-4 h-4"}),"Awaiting Evaluator"]}):e.jsxs(m,{href:`/admin2/evaluations/${a.project_id}/review`,className:t("inline-flex items-center gap-2 font-medium",r.link.primary),children:[e.jsx(d,{className:"w-4 h-4"}),"Review"]})})]},a.id))})]}):e.jsx("div",{className:t("text-center py-12",r.text.tertiary),children:e.jsx("p",{children:"No evaluations found"})})})]})})]})}export{q as default};
