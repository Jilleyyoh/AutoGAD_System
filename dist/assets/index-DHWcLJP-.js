import{r as i,u as Ye,c as C,j as e,H as Ze}from"./app-DZrL6wO1.js";import{A as Ge,s as c,S as se,d as Ke}from"./app-layout-BVNqvqA6.js";import{C as ae}from"./confirmation-dialog-BEZW29vY.js";import{V as Be}from"./version-info-pquDlwvR.js";import{c as a,t as n}from"./theme-classes-C1o5LvBg.js";import{C as et}from"./chart-column-DFjUnfO5.js";import{C as je}from"./circle-check-BkHVpkJp.js";import{C as tt}from"./circle-alert-A2Xx533H.js";import{c as R}from"./createLucideIcon-DkMGSA4v.js";import{C as rt}from"./clock-uWUX0Jnj.js";import{P as y}from"./plus-D7b07MKU.js";import{P as Q,T as ne}from"./trash-2-B9VT-ULH.js";import"./app-CSLFruQT.js";import"./utils-CNSwpjVw.js";import"./button-Cr4sDpjN.js";import"./index-hSTZO9jP.js";import"./index-D4D1kMjY.js";import"./index-CYBwx7kR.js";import"./x-FRcdCJN5.js";import"./index-BNxELNJL.js";import"./dialog-D5ueXMuj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],at=R("ChevronDown",st);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_=R("Layers",nt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lt=R("RefreshCw",it);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],S=R("Zap",dt);function Tt({settings:O,categories:l=[],interpretations:P=[],versions:g=[]}){const[p,$]=i.useState("settings"),[Ne,f]=i.useState(!1),[ke,j]=i.useState(!1),[ve,N]=i.useState(!1),[q,V]=i.useState(null),[k,L]=i.useState(null),[D,U]=i.useState(null),[z,H]=i.useState(null),[X,J]=i.useState(null),[I,W]=i.useState(null),[ie,le]=i.useState(new Set),[Y,we]=i.useState(null),[de,Z]=i.useState(null),[oe,G]=i.useState(!1),[M,A]=i.useState(null),[K,v]=i.useState(null);i.useEffect(()=>{if(l&&l.length>0){const t=new Set(l.map(r=>r.id));le(t)}},[l]);const{flash:E}=Ye().props,{data:T,setData:ce,post:Ce,processing:xe,errors:F,reset:ot}=C({version:O.version,passing_score:O.passing_score}),{data:m,setData:h,post:_e,put:Se,processing:ge,errors:ct,reset:B}=C({category_name:"",description:"",max_score:"",display_order:"",equal_distribution_enabled:!1}),{data:x,setData:u,post:qe,put:De,delete:Ie,processing:me,errors:xt,reset:ee}=C({category_id:"",question:"",score_options:"",display_order:"",is_active:!0}),{data:b,setData:w,post:Me,put:Ae,delete:Ee,processing:ue,errors:gt,reset:te}=C({score_min:"",score_max:"",interpretation:"",description:""}),{delete:Te}=C(),Fe=t=>{if(t.preventDefault(),!/^\d+\.\d+$/.test(T.version)){alert("‚ùå Version must be in decimal format (e.g., 1.0, 1.1)");return}const s=parseFloat(T.passing_score);if(isNaN(s)||s<0){alert("‚ùå Passing score must be a valid positive number");return}const d=re();if(d>0&&s>d){alert(`‚ùå Passing score (${s.toFixed(2)}) cannot exceed the total maximum score of ${d.toFixed(2)}`);return}Ce(c("questionnaire.updateSettings"))},be=()=>{B(),V(null),f(!0)},Qe=t=>{V(t),h({category_name:t.category_name,description:t.description||"",max_score:t.max_score.toString(),display_order:t.display_order.toString(),equal_distribution_enabled:t.equal_distribution_enabled||!1}),f(!0)},Re=t=>{if(t.preventDefault(),!m.category_name.trim()){alert("‚ùå Category name is required");return}const r=parseFloat(m.max_score);if(isNaN(r)||r<=0){alert("‚ùå Max score must be a valid positive number");return}const s=parseInt(m.display_order);if(isNaN(s)||s<1){alert("‚ùå Display order must be a valid number");return}q?Se(c("questionnaire.categories.update",q.id),{onSuccess:()=>{f(!1),B(),V(null)}}):_e(c("questionnaire.categories.store"),{onSuccess:()=>{f(!1),B()}})},pe=t=>{ee(),L(null),Z(t),u("category_id",t.toString()),G(!1),j(!0)},Oe=t=>{L(t),u({category_id:t.category_id.toString(),question:t.question,score_options:t.score_options,display_order:t.display_order.toString(),is_active:t.is_active}),Z(t.category_id),G(!1),j(!0)},Pe=t=>{if(t.preventDefault(),!x.category_id){alert("‚ùå Please select a category");return}if(!x.question.trim()){alert("‚ùå Question is required");return}if(!x.score_options.trim()){alert("‚ùå Score options are required");return}const r=x.score_options.split(",").map(d=>parseFloat(d.trim()));if(r.some(isNaN)){alert("‚ùå Score options must be comma-separated numbers");return}if(r.length<2){alert("‚ùå Please provide at least 2 score options");return}const s=parseInt(x.display_order);if(isNaN(s)||s<1){alert("‚ùå Display order must be a valid number");return}k?De(c("questionnaire.items.update",k.id),{onSuccess:()=>{j(!1),ee(),L(null)}}):qe(c("questionnaire.items.store"),{onSuccess:()=>{j(!1),ee()}})},$e=t=>{H(t)},Ve=t=>{W(t)},Le=t=>{J(t)},Ue=async t=>{console.log("üîµ Starting redistribution for category:",t),A(t),v(null);try{const r=`/questionnaire/categories/${t}/redistribute`;console.log("üîµ Making POST to:",r);const s=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin",body:JSON.stringify({})});console.log("üîµ Response status:",s.status);const d=await s.text();console.log("üîµ Response text:",d.substring(0,200));let o;try{o=JSON.parse(d)}catch{console.error("‚ùå Failed to parse response as JSON"),v({type:"error",message:"Server error - invalid response format"}),A(null);return}o.success?(console.log("‚úÖ Success:",o.message),v({type:"success",message:o.message}),setTimeout(()=>{console.log("üîµ Reloading page..."),window.location.reload()},1500)):(console.error("‚ùå Error:",o.message),v({type:"error",message:o.message||"Redistribution failed"}),A(null))}catch(r){console.error("‚ùå Fetch error:",r),v({type:"error",message:"Network error: "+(r instanceof Error?r.message:"Unknown")}),A(null)}},he=()=>{te(),U(null),N(!0)},ze=t=>{U(t),w({score_min:t.score_min.toString(),score_max:t.score_max.toString(),interpretation:t.interpretation,description:t.description}),N(!0)},He=t=>{if(t.preventDefault(),!b.interpretation.trim()){alert("‚ùå Interpretation label is required");return}if(!b.description.trim()){alert("‚ùå Description is required");return}const r=parseFloat(b.score_min),s=parseFloat(b.score_max);if(isNaN(r)||isNaN(s)){alert("‚ùå Score ranges must be valid numbers");return}if(r>s){alert("‚ùå Minimum score cannot be greater than maximum score");return}r===s&&r>0&&alert("‚ö†Ô∏è Warning: Min and Max scores are the same. This interpretation will only apply to a single score value."),D?Ae(c("questionnaire.interpretations.update",D.id),{onSuccess:()=>{N(!1),te(),U(null)}}):Me(c("questionnaire.interpretations.store"),{onSuccess:()=>{N(!1),te()}})},ye=()=>!l||!Array.isArray(l)?0:l.reduce((t,r)=>t+(r.items?r.items.length:0),0),Xe=()=>{if(!l||!Array.isArray(l))return 0;try{let t=0;return l.forEach(r=>{if(r&&r.is_active){const s=parseFloat(String(r.max_score||"0"));isNaN(s)||(t+=s)}}),Math.round(t*100)/100}catch(t){return console.error("Error in getTotalMaxScore:",t),0}},re=()=>{const t=Xe();return typeof t=="number"&&!isNaN(t)?t:0},Je=t=>{const r=new Set(ie);r.has(t)?r.delete(t):r.add(t),le(r)},We=(t,r=3)=>{if(r<2)return"0,"+t;const s=t/(r-1),d=[];for(let o=0;o<r;o++){const fe=s*o;d.push(fe.toString())}return d.join(",")};return e.jsxs(Ge,{breadcrumbs:[{title:"Dashboard",href:c("dashboard")},{title:"Manage Questionnaire",href:c("questionnaire.index")}],children:[e.jsx(Ze,{title:"Manage Questionnaire"}),e.jsx("div",{className:"min-h-screen bg-white dark:bg-black",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(et,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"}),"Manage Questionnaire"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Configure evaluation criteria, categories, questions, and score interpretations"})]})}),E?.success&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/30 border-l-4 border-green-500 rounded-r-lg flex items-center gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-green-800 dark:text-green-300 font-medium",children:E.success})]}),E?.error&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 rounded-r-lg flex items-center gap-3",children:[e.jsx(tt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsx("span",{className:"text-red-800 dark:text-red-300 font-medium",children:E.error})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-semibold uppercase tracking-wide",children:"Version"}),e.jsx(se,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),e.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:O.version})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-semibold uppercase tracking-wide",children:"Total Questions"}),e.jsx(_,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),e.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:ye()})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-semibold uppercase tracking-wide",children:"Max Score"}),e.jsx(S,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),e.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:re().toFixed(2)})]})]}),e.jsx("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:e.jsxs("nav",{className:"flex",children:[e.jsxs("button",{onClick:()=>$("settings"),className:`flex-1 px-6 py-4 font-medium text-sm transition-all ${p==="settings"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 border-b-2 border-transparent"}`,children:[e.jsx(se,{className:"w-4 h-4 inline mr-2"}),"Settings"]}),e.jsxs("button",{onClick:()=>$("interpretations"),className:`flex-1 px-6 py-4 font-medium text-sm transition-all ${p==="interpretations"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 border-b-2 border-transparent"}`,children:[e.jsx(S,{className:"w-4 h-4 inline mr-2"}),"Interpretations ",e.jsx("span",{className:"ml-2 bg-blue-200 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-0.5 rounded-full text-xs font-semibold",children:P.length})]}),e.jsxs("button",{onClick:()=>$("categories-questions"),className:`flex-1 px-6 py-4 font-medium text-sm transition-all ${p==="categories-questions"?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 border-b-2 border-transparent"}`,children:[e.jsx(_,{className:"w-4 h-4 inline mr-2"}),"Categories & Questions"]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[p==="settings"&&e.jsxs("div",{className:"p-8",children:[g&&g.length>0&&e.jsxs("div",{className:"mb-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800",children:[e.jsxs("p",{className:a("font-semibold text-lg","text-green-900 dark:text-green-200"),children:["‚úÖ Active Version: ",g.find(t=>t.is_active)?.version_number||"N/A"]}),e.jsx("p",{className:a("text-sm mt-1","text-green-700 dark:text-green-300"),children:"All new evaluations will use this version. Changing these settings will create a new version."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(se,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Questionnaire Settings"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Configure version and passing score threshold"})]}),e.jsxs("form",{onSubmit:Fe,className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Version ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:T.version,onChange:t=>ce("version",t.target.value),placeholder:"1.0",pattern:"^\\d+\\.\\d+$",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),F.version&&e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:F.version}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:"Format: X.Y (e.g., 1.0, 2.1)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Passing Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"999.99",value:T.passing_score,onChange:t=>ce("passing_score",t.target.value),placeholder:"10.50",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),F.passing_score&&e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2",children:F.passing_score}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:"Minimum score to pass evaluation"})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-800 dark:text-blue-300 text-sm",children:[e.jsx("strong",{children:"Current Configuration:"})," Maximum possible score is ",e.jsx("span",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:re().toFixed(2)})," from ",ye()," questions across ",l.length," categories."]})}),e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx("button",{type:"submit",disabled:xe,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-8 py-2 rounded-lg font-semibold transition-all flex items-center gap-2",children:xe?"Updating...":e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4"}),"Update Settings"]})})})]}),e.jsxs("div",{className:"mt-16 border-t border-gray-200 dark:border-gray-700 pt-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(rt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Questionnaire Version History"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track all changes to your questionnaire and compare versions"})]}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:a("rounded-lg shadow-md p-6 border-l-4 border-blue-500",n.card.base),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:a("text-sm font-medium uppercase tracking-wide",n.text.tertiary),children:"Total Versions"}),e.jsx("p",{className:a("text-4xl font-bold mt-3",n.text.primary),children:g.length})]}),e.jsx("div",{className:"text-blue-500 dark:text-blue-400 opacity-10 text-5xl",children:"üìä"})]})}),e.jsx("div",{className:a("rounded-lg shadow-md p-6 border-l-4 border-green-500",n.card.base),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:a("text-sm font-medium uppercase tracking-wide",n.text.tertiary),children:"Active Version"}),e.jsxs("p",{className:a("text-4xl font-bold mt-3 text-green-600 dark:text-green-400"),children:["v",g.find(t=>t.is_active)?.version_number||"N/A"]})]}),e.jsx("div",{className:"text-green-500 dark:text-green-400 opacity-10 text-5xl",children:"‚úì"})]})}),e.jsx("div",{className:a("rounded-lg shadow-md p-6 border-l-4 border-purple-500",n.card.base),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:a("text-sm font-medium uppercase tracking-wide",n.text.tertiary),children:"Active Uses"}),e.jsx("p",{className:a("text-4xl font-bold mt-3 text-purple-600 dark:text-purple-400"),children:g.find(t=>t.is_active)?.evaluation_count||0})]}),e.jsx("div",{className:"text-purple-500 dark:text-purple-400 opacity-10 text-5xl",children:"üìã"})]})}),e.jsx("div",{className:a("rounded-lg shadow-md p-6 border-l-4 border-orange-500",n.card.base),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:a("text-sm font-medium uppercase tracking-wide",n.text.tertiary),children:"Questions"}),e.jsx("p",{className:a("text-4xl font-bold mt-3 text-orange-600 dark:text-orange-400"),children:l.reduce((t,r)=>t+(r.items?.length||0),0)})]}),e.jsx("div",{className:"text-orange-500 dark:text-orange-400 opacity-10 text-5xl",children:"‚ùì"})]})})]}),e.jsxs("div",{className:a("rounded-lg shadow overflow-hidden",n.card.base),children:[e.jsx("div",{className:a("px-6 py-4 border-b font-semibold",n.table.header),children:"Version Timeline"}),e.jsx("div",{className:a("divide-y",n.table.border),children:g.length===0?e.jsx("div",{className:a("text-center py-12",n.text.tertiary),children:e.jsx("p",{children:"No versions yet. Create a version by updating settings."})}):g.map((t,r)=>e.jsxs("div",{className:a("p-6 transition-colors",r===0?"bg-blue-50 dark:bg-blue-950":""),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:a("text-lg font-semibold",n.text.primary),children:["Version ",t.version_number]}),e.jsxs("div",{className:"flex gap-2",children:[t.is_active&&e.jsx("span",{className:a("inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"),children:"‚úì Active"}),t.status==="archived"&&e.jsx("span",{className:a("inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100"),children:"Archived"})]})]}),t.description&&e.jsx("p",{className:a("text-sm",n.text.secondary),children:t.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:a("font-medium",n.text.tertiary),children:"Created"}),e.jsx("p",{className:a("text-xs",n.text.primary),children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:a("font-medium",n.text.tertiary),children:"Categories"}),e.jsx("p",{className:a("text-xs font-bold","text-blue-600 dark:text-blue-400"),children:t.snapshot.categories.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:a("font-medium",n.text.tertiary),children:"Questions"}),e.jsx("p",{className:a("text-xs font-bold","text-blue-600 dark:text-blue-400"),children:t.snapshot.questions?.length||t.snapshot.question_count||0})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>we(Y?.id===t.id?null:t),className:a("px-3 py-1 rounded text-sm font-medium","bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-300"),children:Y?.id===t.id?"Hide":"View"})})]}),Y?.id===t.id&&e.jsx("div",{className:a("mt-4 pt-4 border-t",n.table.border),children:e.jsx(Be,{version:t,showEvaluationCount:!0})})]},t.id))})]})]})]})]}),p==="interpretations"&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(S,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Score Interpretations"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Define how different score ranges should be interpreted"})]}),e.jsxs("button",{onClick:he,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Add Interpretation"]})]}),e.jsxs("div",{className:"space-y-4",children:[P.map(t=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-5 hover:border-blue-300 dark:hover:border-blue-600 transition-colors",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsxs("span",{className:"inline-block bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-sm px-4 py-1.5 rounded-full font-bold",children:[t.score_min.toFixed(2)," ‚Äì ",t.score_max.toFixed(2)]})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1",children:t.interpretation}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["v",t.version]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ze(t),className:"p-2 text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition",title:"Edit",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Le(t),className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"Delete",children:e.jsx(ne,{className:"w-4 h-4"})})]})]})},t.id)),P.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-4",children:"No score interpretations yet"}),e.jsxs("button",{onClick:he,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold inline-flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Create your first interpretation"]})]})]})]}),p==="categories-questions"&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(_,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"}),"Categories & Questions"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Organize evaluation questions into categories"})]}),e.jsxs("button",{onClick:be,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Add Category"]})]}),l.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(_,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Categories Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start by creating a category to organize your evaluation questions."}),e.jsxs("button",{onClick:be,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold inline-flex items-center gap-2 transition",children:[e.jsx(y,{className:"w-4 h-4"}),"Create First Category"]})]}):e.jsx("div",{className:"space-y-6",children:l.map(t=>{const r=ie.has(t.id);return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:border-blue-300 dark:hover:border-blue-600 transition-all",children:[e.jsx("button",{onClick:()=>Je(t.id),className:`w-full px-6 py-4 text-left transition-colors ${t.is_active?"bg-blue-50 dark:bg-blue-900/20":"bg-gray-50 dark:bg-gray-700/50"}`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[r?e.jsx(at,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):e.jsx(Ke,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:t.category_name}),e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${t.is_active?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-300"}`,children:t.is_active?"Active":"Inactive"})]}),t.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:t.description}),e.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["üìä Max Score: ",e.jsx("strong",{children:parseFloat(String(t.max_score||"0")).toFixed(2)})]}),e.jsxs("span",{children:["‚ùì Questions: ",e.jsx("strong",{children:t.items.length})]})]})]})]})})}),r&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 border-t border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>pe(t.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors inline-flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Add Question"]}),e.jsxs("button",{onClick:()=>Qe(t),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors inline-flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>Ve(t),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors inline-flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:()=>Ue(t.id),disabled:M===t.id,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors inline-flex items-center gap-2",title:"Manually trigger equal score redistribution",children:[e.jsx(lt,{className:`w-4 h-4 ${M===t.id?"animate-spin":""}`}),M===t.id?"Redistributing...":"Redistribute"]})]}),K&&M===t.id&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${K.type==="success"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border border-green-300 dark:border-green-700":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 border border-red-300 dark:border-red-700"}`,children:e.jsx("p",{className:"text-sm font-medium",children:K.message})}),t.items.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase",children:"No."}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase",children:"Question"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase",children:"Score Options"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:t.items.sort((s,d)=>s.display_order-d.display_order).map(s=>e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600 hover:bg-white dark:hover:bg-gray-600/30 transition",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("span",{className:"inline-block bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300 text-xs font-bold px-3 py-1 rounded-full",children:[t.display_order,".",s.display_order]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs",children:s.question})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 font-mono bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded",children:s.score_options})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${s.is_active?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-300"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Oe(s),className:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$e(s),className:"p-1 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:e.jsx(ne,{className:"w-4 h-4"})})]})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No questions added yet"}),e.jsxs("button",{onClick:()=>pe(t.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-semibold inline-flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Add first question"]})]})]})]},t.id)})})]})]})]})}),e.jsx(ae,{isOpen:!!z,onClose:()=>H(null),onConfirm:()=>{z&&(Ie(c("questionnaire.items.destroy",z.id),{method:"delete"}),H(null))},title:"Delete Question",description:"Are you sure you want to delete this question? This action cannot be undone."}),e.jsx(ae,{isOpen:!!X,onClose:()=>J(null),onConfirm:()=>{X&&(Ee(c("questionnaire.interpretations.destroy",X.id),{method:"delete"}),J(null))},title:"Delete Interpretation",description:"Are you sure you want to delete this score interpretation? This action cannot be undone."}),e.jsx(ae,{isOpen:!!I,onClose:()=>W(null),onConfirm:()=>{I&&(Te(c("questionnaire.categories.destroy",I.id),{method:"delete"}),W(null))},title:"Delete Category",description:`Are you sure you want to delete the category "${I?.category_name}"? This action cannot be undone and will delete all associated questions.`}),Ne&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 w-full max-w-lg shadow-xl",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(_,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),q?"Edit Category":"New Category"]}),e.jsxs("form",{onSubmit:Re,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:m.category_name,onChange:t=>h("category_name",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:m.description,onChange:t=>h("description",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Max Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"999.99",value:m.max_score,onChange:t=>h("max_score",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Display Order ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"1",max:"100",value:m.display_order,onChange:t=>h("display_order",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]})]}),e.jsxs("label",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg cursor-pointer hover:bg-green-100 dark:hover:bg-green-900/30 transition",children:[e.jsx("input",{type:"checkbox",checked:m.equal_distribution_enabled,onChange:t=>h("equal_distribution_enabled",t.target.checked),className:"w-4 h-4 rounded text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Enable equal score distribution"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ge,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition flex items-center gap-2",children:ge?"Saving...":q?"Update":"Create"})]})]})]})}),ke&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 w-full max-w-lg max-h-96 overflow-y-auto shadow-xl",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),k?"Edit Question":"New Question"]}),e.jsxs("form",{onSubmit:Pe,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x.category_id,onChange:t=>{u("category_id",t.target.value),Z(parseInt(t.target.value))},className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),l.map(t=>e.jsx("option",{value:t.id,children:t.category_name},t.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Question ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:x.question,onChange:t=>u("question",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",rows:3,required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Score Options ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:x.score_options,onChange:t=>u("score_options",t.target.value),placeholder:"e.g., 0,1,2,3",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition disabled:opacity-50",required:!0,disabled:oe}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Comma-separated values"})]}),e.jsxs("label",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-900/30 transition",children:[e.jsx("input",{type:"checkbox",checked:oe,onChange:t=>{if(G(t.target.checked),t.target.checked&&de){const r=l.find(s=>s.id===de);if(r){const s=r.items.length+(k?0:1),d=r.max_score/s,o=We(d);u("score_options",o)}}},className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Auto-distribute score equally"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Display Order ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"1",max:"100",value:x.display_order,onChange:t=>u("display_order",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg",children:[e.jsx("input",{type:"checkbox",checked:x.is_active,onChange:t=>u("is_active",t.target.checked),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:me,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition flex items-center gap-2",children:me?"Saving...":k?"Update":"Create"})]})]})]})}),ve&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 w-full max-w-lg shadow-xl",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(S,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),D?"Edit Interpretation":"New Interpretation"]}),e.jsxs("form",{onSubmit:He,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Min Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"999.99",value:b.score_min,onChange:t=>w("score_min",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Max Score ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"999.99",value:b.score_max,onChange:t=>w("score_max",t.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Label ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b.interpretation,onChange:t=>w("interpretation",t.target.value),placeholder:"e.g., GAD is invisible",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:b.description,onChange:t=>w("description",t.target.value),placeholder:"e.g., Project is returned",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition",rows:3,required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ue,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition flex items-center gap-2",children:ue?"Saving...":D?"Update":"Create"})]})]})]})})]})}export{Tt as default};
