import{u as n,r as o,R as x,j as e,H as p,L as l}from"./app-DZrL6wO1.js";import{A as u,s as i}from"./app-layout-BVNqvqA6.js";import{c as s,t}from"./theme-classes-C1o5LvBg.js";import{C as h}from"./x-FRcdCJN5.js";import{F as b}from"./file-text-BtWhND71.js";import{E as j}from"./eye-DK73xOfc.js";import"./app-CSLFruQT.js";import"./utils-CNSwpjVw.js";import"./button-Cr4sDpjN.js";import"./index-hSTZO9jP.js";import"./index-D4D1kMjY.js";import"./index-CYBwx7kR.js";import"./createLucideIcon-DkMGSA4v.js";import"./index-BNxELNJL.js";const y=[{id:"info",label:"Project Info",icon:h},{id:"documents",label:"Documents",icon:b},{id:"result",label:"Evaluation Result",icon:j}];function L(){const{project:a}=n().props;n().props.domains,n().props.phases;const[d,m]=o.useState("info");x.useEffect(()=>{console.log("Project data:",{status:a.status,status_id:a.status_id,has_certificate:!!a.certificate,certificate:a.certificate})},[a]);const c=a.status.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase());return e.jsxs(u,{breadcrumbs:[{title:"Dashboard",href:i("proponent.dashboard")},{title:"Track Submissions",href:i("proponent.pap.submissions")},{title:a.project_code,href:i("proponent.pap.submissions.show",a.id)}],children:[e.jsx(p,{title:`Submission ${a.project_code}`}),e.jsxs("div",{className:"max-w-5xl mx-auto py-6 px-4 sm:px-6 lg:px-8 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:s("text-2xl font-semibold",t.text.primary),children:a.project_code}),e.jsxs("p",{className:s("mt-1 text-sm",t.text.secondary),children:["Submitted ",new Date(a.created_at).toLocaleString()]})]}),e.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${a.status==="pending"?s("",t.badge.yellow):a.status==="under_review"?s("",t.badge.blue):a.status==="approved"?s("",t.badge.green):a.status==="rejected"?s("",t.badge.red):a.status==="certified"?s("",t.badge.purple):s("",t.badge.blue)}`,children:c})]}),e.jsxs("div",{className:s("shadow-sm rounded-md p-6",t.card.base),children:[e.jsx("div",{className:s("mb-6 border-b",t.border.primary),children:e.jsx("div",{className:"flex space-x-8",children:y.map(r=>e.jsx("button",{onClick:()=>m(r.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${d===r.id?"border-blue-500 text-blue-600 dark:text-blue-400":s("border-transparent",t.text.tertiary,"hover:text-gray-700 dark:hover:text-gray-300")}`,children:r.label},r.id))})}),d==="info"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:s("text-lg font-medium",t.text.primary),children:"Project Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:s("",t.text.secondary),children:"Title"}),e.jsx("div",{className:s("font-medium",t.text.primary),children:a.title})]}),e.jsxs("div",{children:[e.jsx("div",{className:s("",t.text.secondary),children:"Domain"}),e.jsx("div",{className:s("font-medium",t.text.primary),children:a.domain||"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:s("",t.text.secondary),children:"Implementation Phase"}),e.jsx("div",{className:s("font-medium",t.text.primary),children:a.implementation_phase||"—"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:s("text-sm mb-1",t.text.secondary),children:"Description"}),e.jsx("p",{className:s("whitespace-pre-line text-sm",t.text.primary),children:a.description||"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:s("text-sm mb-1",t.text.secondary),children:"Rationale"}),e.jsx("p",{className:s("whitespace-pre-line text-sm",t.text.primary),children:a.rationale||"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:s("text-sm mb-1",t.text.secondary),children:"Objectives"}),e.jsx("p",{className:s("whitespace-pre-line text-sm",t.text.primary),children:a.objectives||"—"})]})]}),d==="documents"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:s("text-lg font-medium",t.text.primary),children:"Documents"}),a.documents.length===0&&e.jsx("p",{className:s("text-sm",t.text.secondary),children:"No documents uploaded."}),e.jsx("ul",{className:s("divide-y",t.table.border),children:a.documents.map(r=>e.jsxs("li",{className:s("py-3 flex items-center justify-between text-sm",t.table.row),children:[e.jsxs("div",{children:[e.jsx("div",{className:s("font-medium",t.text.primary),children:r.original_name}),r.type&&e.jsx("div",{className:s("text-xs mt-0.5",t.text.tertiary),children:r.type})]}),e.jsx("a",{href:r.download_route,className:s("inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm",t.button.primary),children:"Download"})]},r.id))})]}),d==="result"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:s("text-lg font-medium",t.text.primary),children:"Evaluation Result"}),a.evaluations.length===0?e.jsx("p",{className:s("text-sm italic",t.text.tertiary),children:"No evaluations yet."}):e.jsx("div",{className:"space-y-6",children:a.evaluations.map(r=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:s("border rounded-lg p-6",t.border.primary,"bg-blue-50 dark:bg-blue-900/30"),children:[e.jsx("p",{className:s("text-sm font-medium mb-2",t.text.tertiary),children:"Total Score"}),e.jsxs("div",{className:"flex items-baseline gap-4",children:[e.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:r.total_score!==null&&r.total_score!==void 0?parseFloat(String(r.total_score)).toFixed(2):"N/A"}),r.interpretation&&e.jsxs("div",{children:[e.jsx("p",{className:s("font-semibold text-lg",t.text.primary),children:r.interpretation.interpretation}),e.jsx("p",{className:s("text-sm mt-1",t.text.secondary),children:r.interpretation.description})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:s("text-sm font-medium mb-2",t.text.tertiary),children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.status_name==="approved"?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200":r.status_name==="declined"?"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200":r.status_name==="revision"?"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-200":"bg-gray-100 dark:bg-gray-900/40 text-gray-800 dark:text-gray-200"}`,children:r.status_name?.charAt(0).toUpperCase()+r.status_name?.slice(1)})]}),r.remarks&&e.jsxs("div",{className:s("border rounded-lg p-6",t.border.primary),children:[e.jsx("p",{className:s("text-sm font-medium mb-3",t.text.tertiary),children:"Remarks"}),e.jsx("div",{className:s("p-4 rounded-lg","bg-gray-50 dark:bg-slate-700/50"),children:e.jsx("p",{className:s("whitespace-pre-wrap",t.text.primary),children:r.remarks})})]}),r.evaluator&&e.jsxs("div",{children:[e.jsx("p",{className:s("text-sm font-medium mb-1",t.text.tertiary),children:"Evaluator"}),e.jsx("p",{className:t.text.primary,children:r.evaluator})]})]},r.id))})]})]}),(a.status==="revision"||a.status_id===2)&&e.jsxs("div",{className:s("shadow-sm rounded-md p-6 space-y-4",t.card.base),children:[e.jsx("h2",{className:s("text-lg font-medium",t.text.primary),children:"Revision / Resubmission"}),e.jsx("p",{className:s("text-sm",t.text.secondary),children:"Review the evaluator's remarks and make necessary changes to your project."}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(l,{href:i("proponent.pap.revise.show",a.id),className:s("inline-flex items-center px-4 py-2 rounded-md text-sm font-medium",t.button.primary),children:"Start Revision Process"})})]}),e.jsx("div",{children:e.jsx(l,{href:i("proponent.pap.submissions"),className:s("inline-flex items-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md",t.button.secondary),children:"Back to Submissions"})})]})]})}export{L as default};
